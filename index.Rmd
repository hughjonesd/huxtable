---
output: md_document

---

```{r setup, echo = FALSE}
suppressPackageStartupMessages(suppressWarnings(library(huxtable)))
knitr::opts_chunk$set(echo = TRUE)
options("huxtable.knitr_output_format" = "html")
```

```{r logo, echo = FALSE}
logo <- hux_logo()  

logo <- logo |> 
  set_position("centre") |>
  set_font_size(24) |> 
  set_font_size(1, 3, 32) |> 
  set_lr_padding(8) |> 
  set_width("fit-content") 

# Add hole effect to the multicolumn cell in first row (rightmost spanning cell)
logo[1, 5] <- '<div class="mondrian-hole-dark" style="height: 1.8em; width: 100%; border: none !important; display: block; box-sizing: border-box;">&nbsp;</div>'
# Add hole effect to cell (2,1) 
logo[2, 1] <- '<div class="mondrian-hole-dark" style="height: 1.8em; width: 100%; border: none !important; display: block; box-sizing: border-box;">&nbsp;</div>'
logo <- logo |> 
  set_escape_contents(1, 5, FALSE) |>
  set_escape_contents(2, 1, FALSE) |>
  set_all_padding(1, 5, 0) |>
  set_all_padding(2, 1, 0)

logo
```

<br>

<!-- badges: start -->

[![R-universe
Badge](https://hughjonesd.r-universe.dev/badges/huxtable)](https://hughjonesd.r-universe.dev/huxtable)
[![CRAN Status
Badge](https://www.r-pkg.org/badges/version/huxtable)](https://cran.r-project.org/package=huxtable)
[![CRAN Downloads Per
Month](https://cranlogs.r-pkg.org/badges/huxtable)](https://CRAN.R-project.org/package=huxtable)
[![R build
status](https://github.com/hughjonesd/huxtable/workflows/R-CMD-check/badge.svg)](https://github.com/hughjonesd/huxtable/actions)
[![Coverage
Status](https://img.shields.io/codecov/c/github/hughjonesd/huxtable/master.svg)](https://app.codecov.io/github/hughjonesd/huxtable?branch=master)
<!-- badges: end -->

Huxtable is an R package to create LaTeX and HTML tables, with a friendly, modern interface. Features include control over text styling, number format, background color, borders, padding and alignment. Cells can span multiple rows and/or columns. Tables can be manipulated with standard R subsetting or `dplyr` functions.

## Quick Examples

### Simple table

```{r simple-table}
ht <- hux(
        Employee = c("John Smith", "Jane Doe", "David Hugh-Jones"),
        Salary = c(50000, 50000, 40000),
        add_colnames = TRUE
      )

bold(ht)[1,]           <- TRUE
bottom_border(ht)[1,]  <- 0.4
align(ht)[,2]          <- "right"
right_padding(ht)      <- 10
left_padding(ht)       <- 10
width(ht)              <- 0.35
number_format(ht)      <- 2

ht
```

### Pipe interface

```{r pipe-interface}
library(magrittr)
ht <- hux(
        Employee = c("John Smith", "Jane Doe", "David Hugh-Jones"),
        Salary = c(50000, 50000, 40000)
      )

ht |>
      set_bold(1, everywhere)             |>
      set_bottom_border(1, everywhere)    |>
      set_align(everywhere, 2, "right")   |>
      set_lr_padding(10)                  |>
      set_width(0.35)                     |>
      set_number_format(2)
```

### Conditional formatting

```{r conditional-formatting}
mtcars[1:5, 1:5] |>
      as_huxtable(add_rownames = "Model") |>
      set_bold(1, everywhere, TRUE) |>
      set_all_borders(1) |>
      map_text_color(everywhere, "mpg", by_colorspace("navy", "red", "yellow")) |>
      map_background_color(everywhere, "hp", by_quantiles(0.8, c("white", "yellow"))) |>
      map_italic(everywhere, "Model", by_regex("Merc.*" = TRUE))
```

### Table of regressions

```{r regression-table}
data(diamonds, package = "ggplot2")

lm1 <- lm(log(price) ~ carat, diamonds)
lm2 <- lm(log(price) ~ depth, diamonds)
lm3 <- lm(log(price) ~ carat + depth, diamonds)

huxreg(lm1, lm2, lm3, statistics = c("N" = "nobs", "R2" = "r.squared"))
```

### Quick document output

```{r quick-output, eval = FALSE}
quick_pdf(mtcars)
quick_docx(mtcars)
quick_html(mtcars)
quick_xlsx(mtcars)
# Files are produced in the current working directory.
```

## Installation

From R-Universe:

```{r install-runiv, eval = FALSE}
install.packages("huxtable", repos = c(
  "https://hughjonesd.r-universe.dev",
  "https://cloud.r-project.org"
))
```

From CRAN:

```{r install-cran, eval = FALSE}
install.packages("huxtable")
```

Development version from github:

```{r install-github, eval = FALSE}
library(devtools)
install_github("hughjonesd/huxtable")
```

## Learning more

Check out the [vignette](articles/huxtable.html).

## The name

Huxtable could stand for "Happy User Xtable", or if you prefer, "Hyped Up Xtable", or for Germans maybe "Html Und teX Table".

## Trivia

The logo above was randomly generated by huxtable, using `hux_logo()`. The web page background uses [Piet Mondrian](https://en.wikipedia.org/wiki/Piet_Mondrian)'s *Composition A*.
