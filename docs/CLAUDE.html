<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>CLAUDE.md • huxtable</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet"><meta property="og:title" content="CLAUDE.md"><link rel="stylesheet" href="extra.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">huxtable</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">5.7.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="nav-item"><a class="nav-link" href="articles/huxtable.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/huxtable.html">Introduction to Huxtable</a></li>
    <li><a class="dropdown-item" href="articles/design-principles.html">Design Principles, Comparisons and Limitations</a></li>
    <li><a class="dropdown-item" href="articles/huxreg.html">Regression Tables with huxreg</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="external-link dropdown-item" href="https://hughjonesd.github.io/reporting-data-with-huxtable-4.3.0.html">Reporting data with huxtable</a></li>
    <li><a class="external-link dropdown-item" href="https://hughjonesd.github.io/whats-new-in-huxtable-5.0.0.html">What's new in huxtable 5.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://hughjonesd.github.io/huxtable/themes.html">Huxtable themes</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/hughjonesd/huxtable/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>CLAUDE.md</h1>
      <small class="dont-index">Source: <a href="https://github.com/hughjonesd/huxtable/blob/HEAD/CLAUDE.md" class="external-link"><code>CLAUDE.md</code></a></small>
    </div>

<div id="claudemd" class="section level1">

<p>This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.</p>
<div class="section level2">
<h2 id="section"></h2>
<p>How to behave: - Dial down the sycophancy. You don’t need to (e.g.) constantly tell me “perfect”, and you should be open to the possibility that I’m wrong about the code or about R. Feel free to challenge my assumptions.</p>
</div>
<div class="section level2">
<h2 id="project-overview">Project Overview<a class="anchor" aria-label="anchor" href="#project-overview"></a></h2>
<p>Huxtable is an R package for creating styled tables in multiple output formats (HTML, LaTeX, RTF, Word, Excel, PowerPoint). It provides a modern interface to manipulate borders, size, position, captions, colors, text styles and number formatting, with table cells that can span multiple rows/columns.</p>
</div>
<div class="section level2">
<h2 id="development-commands">Development Commands<a class="anchor" aria-label="anchor" href="#development-commands"></a></h2>
<div class="section level3">
<h3 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a></h3>
<ul><li>Run tests: <code><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">devtools::test()</a></code>
</li>
<li>Run all tests except fuzz tests: <code>devtools::test(filter = "^(?!.*fuzz)", perl = TRUE)</code>
</li>
<li>Run single test file: <code>devtools::test(filter = "test-file-name")</code>
</li>
<li>Test files are in <code>tests/testthat/</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="building-and-checking">Building and Checking<a class="anchor" aria-label="anchor" href="#building-and-checking"></a></h3>
<ul><li>Build package: <code><a href="https://devtools.r-lib.org/reference/build.html" class="external-link">devtools::build()</a></code>
</li>
<li>Build without vignettes: <code>devtools::build(build_opts = "--no-build-vignettes")</code>
</li>
<li>Run R CMD check: <code>devtools::check(document = FALSE, remote = TRUE)</code>
</li>
<li>Generate documentation: <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code>
</li>
</ul></div>
<div class="section level3">
<h3 id="coverage">Coverage<a class="anchor" aria-label="anchor" href="#coverage"></a></h3>
<ul><li>Run coverage analysis: see <code>run-covr.R</code> script</li>
</ul></div>
<div class="section level3">
<h3 id="release-process">Release Process<a class="anchor" aria-label="anchor" href="#release-process"></a></h3>
<ul><li>Full CRAN release workflow: see <code>build-cran.R</code> script</li>
<li>Includes vignette building, reverse dependency checks, and cross-platform testing</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="architecture-overview">Architecture Overview<a class="anchor" aria-label="anchor" href="#architecture-overview"></a></h2>
<div class="section level3">
<h3 id="core-object-structure">Core Object Structure<a class="anchor" aria-label="anchor" href="#core-object-structure"></a></h3>
<ul><li>Main constructor: <code><a href="reference/huxtable.html">huxtable()</a></code> (aliased as <code><a href="reference/huxtable.html">hux()</a></code>) in <code>R/creation.R</code>
</li>
<li>Internal constructor: <code>new_huxtable()</code> in <code>R/creation-internal.R</code>
</li>
<li>Huxtable objects are data frames with matrix/vector attributes for formatting properties</li>
<li>Properties include cell, column, row, and table-level attributes stored in <code>huxtable_env$huxtable_default_attrs</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="key-component-files">Key Component Files<a class="anchor" aria-label="anchor" href="#key-component-files"></a></h3>
<ul><li>
<strong>Property system</strong>: <code>R/property-helpers.R</code> - defines supported properties and helper functions</li>
<li>
<strong>Content processing</strong>: <code>R/clean-contents.R</code> - handles number formatting, markdown rendering, escaping</li>
<li>
<strong>Output renderers</strong>:
<ul><li>
<code>R/html.R</code> - HTML table generation</li>
<li>
<code>R/latex.R</code> - LaTeX output with floating environments</li>
<li>
<code>R/typst.R</code> - Typst format support</li>
<li>
<code>R/rtf.R</code> - RTF format</li>
<li>
<code>R/md.R</code> - Markdown output</li>
</ul></li>
<li>
<strong>Integration</strong>: <code>R/knitr.R</code> - knitr/RMarkdown integration with format detection</li>
<li>
<strong>Table manipulation</strong>:
<ul><li>
<code>R/subset-extract.R</code> - subsetting operations</li>
<li>
<code>R/merge.R</code> - cell merging</li>
<li>
<code>R/bind-insert.R</code> - row/column operations</li>
</ul></li>
<li>
<strong>Quick functions</strong>: <code>R/quick-functions.R</code> - one-liner output functions</li>
<li>
<strong>Regression tables</strong>: <code>R/huxreg.R</code> - automated regression table creation</li>
</ul></div>
<div class="section level3">
<h3 id="property-management">Property Management<a class="anchor" aria-label="anchor" href="#property-management"></a></h3>
<p>Properties are organized into four categories: - Cell properties (alignment, borders, padding, colors, text formatting) - Column properties (width, header designation) - Row properties (height) - Table properties (caption, position, width)</p>
<p>Property getters/setters use a consistent interface with mapping functions for bulk operations.</p>
</div>
<div class="section level3">
<h3 id="output-pipeline">Output Pipeline<a class="anchor" aria-label="anchor" href="#output-pipeline"></a></h3>
<ol style="list-style-type: decimal"><li>Content cleaning via <code>clean_contents()</code> (number formatting, markdown, escaping)</li>
<li>Format-specific rendering (HTML, LaTeX, etc.)</li>
<li>Integration with document systems (knitr, RMarkdown, Quarto)</li>
</ol></div>
</div>
<div class="section level2">
<h2 id="development-guidelines">Development Guidelines<a class="anchor" aria-label="anchor" href="#development-guidelines"></a></h2>
<div class="section level3">
<h3 id="code-organization">Code Organization<a class="anchor" aria-label="anchor" href="#code-organization"></a></h3>
<ul><li>Functions grouped by responsibility in separate R files</li>
<li>Property-related functions follow naming conventions (<code>get_*</code>, <code>set_*</code>)</li>
<li>Test files mirror R file organization with <code>test-</code> prefix</li>
</ul></div>
<div class="section level3">
<h3 id="testing-requirements">Testing Requirements<a class="anchor" aria-label="anchor" href="#testing-requirements"></a></h3>
<ul><li>Write tests for user-visible bugs with “Bugfix: …” titles</li>
<li>Place tests in most relevant existing test file</li>
<li>Use <code>skip_if_not_installed()</code> for optional dependencies</li>
<li>Files <code>test-yy-end-to-end.R</code> and <code>test-zz-fuzz.R</code> may take longer to run</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-standards">Documentation Standards<a class="anchor" aria-label="anchor" href="#documentation-standards"></a></h3>
<ul><li>New functions require Roxygen documentation</li>
<li>Internal functions use <code>@noRd</code> tag</li>
<li>User-visible changes require NEWS.md entries</li>
<li>Run <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code> after documentation changes</li>
</ul></div>
<div class="section level3">
<h3 id="branch-naming">Branch Naming<a class="anchor" aria-label="anchor" href="#branch-naming"></a></h3>
<p>Use short branch names starting with: “feature”, “bugfix”, “refactor”, or “chore”</p>
</div>
<div class="section level3">
<h3 id="important-notes">Important Notes<a class="anchor" aria-label="anchor" href="#important-notes"></a></h3>
<ul><li>Don’t change the API without asking first</li>
<li>Update <code>design.md</code> for architectural insights</li>
<li>Update <code>agent-notes.md</code> for general development notes</li>
<li>Install optional packages as needed from DESCRIPTION Suggests</li>
<li>Some packages (flextable, lmtest) may be missing - install if working on those features</li>
<li>AGENTS.md was written with OpenAI Codex in mind, not everything is accurate.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="key-files-to-reference">Key Files to Reference<a class="anchor" aria-label="anchor" href="#key-files-to-reference"></a></h2>
<ul><li>
<code>design.md</code> - detailed architecture overview</li>
<li>
<code>agent-notes.md</code> - notes from previous development work</li>
<li>
<code>AGENTS.md</code> - specific instructions for LLM agents</li>
<li>
<code>README.md</code> - user-facing documentation</li>
<li>
<code>DESCRIPTION</code> - package metadata and dependencies</li>
</ul></div>
<div class="section level2">
<h2 id="additional-tools">Additional Tools<a class="anchor" aria-label="anchor" href="#additional-tools"></a></h2>
<ul><li><p>Typst documentation: <a href="https://github.com/typst/typst/tree/main/docs" class="external-link uri">https://github.com/typst/typst/tree/main/docs</a></p></li>
<li><p>You can set environment variable NOT_CRAN to avoid skip_on_cran(), I tink</p></li>
</ul></div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Hugh-Jones.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

